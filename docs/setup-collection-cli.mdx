# Setup collection using the CLI

## Grab an API token

To be able to send any data to Polar Signals, we're going to need an API token for the
collection mechanism to authenticate with the Polar Signals API.

If you haven't already, create an API token, by giving it a name and hit "create". The
token will only be displayed this one time copy the token to a safe place. It will
also be used this one time in the parts of the guide that follows.

## Agent Mode

### Instructions

The Polar Signals cloud receives profiles from the open-source Parca project. It collects profiles using eBPF. Parca itself has a scraper build-in that can scrape pprof format Profiles from HTTP endpoints, much like Prometheus for metrics.

Here we'll see how to setup a simple scraper to collect profiles from a local HTTP endpoint and send it to your Polar Signals project.

1. Download the latest Parca binary using this command:

2. Run this command to start parca in scaping mode:

The above command will start a Parca instance in scraping mode with the config file `parca.yml` that is configured to scrap itself. You can tweak the config file to scrap your own applications, please refer to the documentation for more information.

Note: If you generate the token using the above form, then it will automatically be templated into the example command.

You are now continuously profiling and sending the data to Polar Signals!

3. Now you can head over to the Profile Explorer and browse your profiles.
