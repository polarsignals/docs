# Troubleshooting Agent

Occasionally it will happen that Polar Signals support will ask you to help us troubleshoot the Polar Signals Agent.
Below is a collection of common things Polar Signals might ask for to understand a situation better.

## High Memory Usage

In cases where you are observing high memory usage of Polar Signals' Agent, take a heap profile and share it with support.

To take a heap profile, first get network access to the agent, for example on Kubernetes use a port-forward:

> Note: In a non-Kubernetes environment use SSH to get access to the node the agent is running on.

```
kubectl -n polarsignals port-forward <pod-name> 7071
```

And then take a heap profile using `curl`:

[//]: # (THIS URL doesn't seem right. Needs a /debug/pprof/heap path suffix?)
```
curl http://localhost:7071 > heap.prof
```

Please upload your file to [pprof.me](https://pprof.me/) which makes it accessible to others in an interactive way.
The link generated by [pprof.me](https://pprof.me/) is publicly accessible but only if the unique ID is known,
don't share it with anyone except for Polar Signals support.
